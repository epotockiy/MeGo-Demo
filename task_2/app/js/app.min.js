"use strict";function LocalstorageService(){function e(e){localStorage.setItem("allTodos",JSON.stringify(e))}var t=[];this.getAllTodos=function(){var e=localStorage.getItem("allTodos");return null!==e&&(t=JSON.parse(e)),t},this.getAllCompletedTodos=function(){return t=this.getAllTodos(),t=t.filter(function(e){return e.checked===!0})},this.getAllUncompletedTodos=function(){return t=this.getAllTodos(),t=t.filter(function(e){return e.checked===!1})},this.addNewTodo=function(o){t=this.getAllTodos(),t.push(o),e(t)},this.removeById=function(o){t=this.getAllTodos(),t.splice(o,1),e(t)},this.editTextTodo=function(o,n){t=this.getAllTodos(),t[n].todoText=o,e(t)},this.editStatusTodo=function(o,n){t=this.getAllTodos(),n?t[o].checked=!0:t[o].checked=!1,e(t)}}function TodoList(){function e(e){var t=new LocalstorageService;e=t.getAllTodos(),c.innerHTML="";var o=document.createDocumentFragment();for(var n in e)a=n,o.appendChild(s(e[a].todoText,e[a].checked));c.appendChild(o)}function t(){var e=this.parentNode.getAttribute("id"),t=new LocalstorageService;t.removeById(e),i.showTodosList()}function o(){var e=new LocalstorageService,t=this.parentNode,o=t.querySelector("input[type=text]"),n=t.querySelector("input[type=checkbox]"),s=t.querySelector("label"),i=t.classList.contains("editMode");if(n.checked!==!0){if(i){if(s.innerText=o.value,!d(s.innerText))return;n.disabled=!1,e.editTextTodo(o.value,this.parentNode.id)}else n.disabled=!0,o.value=s.innerText;t.classList.toggle("editMode")}}function n(){var e=new LocalstorageService;this.checked?(this.nextSibling.style.textDecoration="line-through",this.parentNode.classList.add("completed-task"),e.editStatusTodo(this.parentNode.id,!0)):(this.parentNode.classList.remove("completed-task"),this.nextSibling.style.textDecoration="none",e.editStatusTodo(this.parentNode.id,!1))}function s(e,s){var d,i,l,c,r,u;return d=document.createElement("li"),i=document.createElement("input"),l=document.createElement("label"),c=document.createElement("input"),r=document.createElement("button"),u=document.createElement("button"),i.type="checkbox",c.type="text",r.innerText="Edit",r.className="edit",u.innerText="Delete",u.className="delete",l.innerText=e,d.id=a,r.addEventListener("click",o),u.addEventListener("click",t),i.addEventListener("change",n),d.appendChild(i),d.appendChild(l),d.appendChild(c),d.appendChild(r),d.appendChild(u),s===!0?(d.classList.add("completed-task"),i.checked=!0):i.checked=!1,d}function d(e){return""!==e||(alert("enter some text"),!1)}var i=this,l=[],c=document.getElementsByClassName("todos-list")[0],a=0;this.addNewTodo=function(){var e=document.getElementsByClassName("task-input")[0].value;document.getElementsByClassName("task-input")[0].value="";var t=new LocalstorageService;d(e)&&(t.addNewTodo({todoText:e,checked:!1}),a++,c.appendChild(s(e,!1)))},this.showTodosList=function(){var t=new LocalstorageService;l=t.getAllTodos(),c.classList.remove("uncompleted-tasks"),c.classList.remove("completed-tasks"),e(l)},this.hideUncompletedTodos=function(){c.classList.remove("uncompleted-tasks"),c.classList.add("completed-tasks")},this.hideCompletedTodosList=function(){c.classList.remove("completed-tasks"),c.classList.add("uncompleted-tasks")}}var add_button=document.getElementsByClassName("add-button")[0],all_button=document.getElementsByClassName("all-tasks-btn")[0],complete_button=document.getElementsByClassName("completed-tasks-btn")[0],uncomplete_button=document.getElementsByClassName("uncompleted-tasks-btn")[0],todoList=new TodoList;todoList.showTodosList(),add_button.addEventListener("click",function(){todoList.addNewTodo()}),all_button.addEventListener("click",function(){todoList.showTodosList()}),complete_button.addEventListener("click",function(){todoList.hideUncompletedTodos()}),uncomplete_button.addEventListener("click",function(){todoList.hideCompletedTodosList()});
//# sourceMappingURL=../maps/app.min.js.map
