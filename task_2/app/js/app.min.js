"use strict";function LocalstorageService(){function e(e){localStorage.setItem("allTodos",JSON.stringify(e))}var t=[];this.getAllTodos=function(){var e=localStorage.getItem("allTodos");return null!==e&&(t=JSON.parse(e)),t},this.getAllCompletedTodos=function(){return t=this.getAllTodos(),t=t.filter(function(e){return e.checked===!0})},this.getAllUncompletedTodos=function(){return t=this.getAllTodos(),t=t.filter(function(e){return e.checked===!1})},this.addNewTodo=function(o){t=this.getAllTodos(),t.push(o),e(t)},this.removeById=function(o){t=this.getAllTodos(),t.splice(o,1),e(t)},this.editTextTodo=function(o,n){t=this.getAllTodos(),t[n].todoText=o,e(t)},this.editStatusTodo=function(o,n){t=this.getAllTodos(),n?t[o].checked=!0:t[o].checked=!1,e(t)}}function TodoList(){function e(e){var t=new LocalstorageService;e=t.getAllTodos();var o=d();o.innerHTML="";var n=document.createDocumentFragment();for(var i in e)r=i,n.appendChild(s(e[r].todoText,e[r].checked));o.appendChild(n)}function t(){var e=this.parentNode.getAttribute("id"),t=new LocalstorageService;t.removeById(e),l.showTodosList()}function o(){var e=new LocalstorageService,t=this.parentNode,o=t.querySelector("input[type=text]"),n=t.querySelector("input[type=checkbox]"),s=t.querySelector("label"),d=t.classList.contains("editMode");if(n.checked!==!0){if(d){if(s.innerText=o.value,!i(s.innerText))return;n.disabled=!1,e.editTextTodo(o.value,this.parentNode.id)}else n.disabled=!0,o.value=s.innerText;t.classList.toggle("editMode")}}function n(){var e=new LocalstorageService;this.checked?(this.nextSibling.style.textDecoration="line-through",e.editStatusTodo(this.parentNode.id,!0)):(this.nextSibling.style.textDecoration="none",e.editStatusTodo(this.parentNode.id,!1))}function s(e,s){var d,i,c,l,a,u;return d=document.createElement("li"),i=document.createElement("input"),c=document.createElement("label"),l=document.createElement("input"),a=document.createElement("button"),u=document.createElement("button"),i.type="checkbox",l.type="text",a.innerText="Edit",a.className="edit",u.innerText="Delete",u.className="delete",c.innerText=e,d.id=r,a.addEventListener("click",o),u.addEventListener("click",t),i.addEventListener("change",n),d.appendChild(i),d.appendChild(c),d.appendChild(l),d.appendChild(a),d.appendChild(u),s===!0?i.checked=!0:i.checked=!1,d}function d(){return a=document.getElementsByClassName("todos-list")[0]}function i(e){return""!==e||(alert("enter some text"),!1)}function c(e,t){for(var o=0;o<e.childNodes.length;o++)e.childNodes[o].firstChild.checked===t?e.childNodes[o].classList.add("hide-task"):e.childNodes[o].classList.remove("hide-task")}var l=this,a=[],r=0;this.addNewTodo=function(){var e=document.getElementsByClassName("task-input")[0].value;document.getElementsByClassName("task-input")[0].value="";var t=new LocalstorageService;i(e)&&(t.addNewTodo({todoText:e,checked:!1}),r++,d().appendChild(s(e,!1))),a=d(),console.log(a.className),a.classList.contains("completed-tasks")?c(a,!1):a.classList.contains("uncompleted-tasks")&&c(a,!0)},this.showTodosList=function(){var t=new LocalstorageService;a=t.getAllTodos(),e(a)},this.hideUncompletedTodos=function(){a=d(),a.classList.remove("uncompleted-tasks"),a.classList.add("completed-tasks"),c(a,!1)},this.hideCompletedTodosList=function(){a=d(),a.classList.remove("completed-tasks"),a.classList.add("uncompleted-tasks"),c(a,!0)}}var add_button=document.getElementsByClassName("add-button")[0],all_button=document.getElementsByClassName("all-tasks-btn")[0],complete_button=document.getElementsByClassName("completed-tasks-btn")[0],uncomplete_button=document.getElementsByClassName("uncompleted-tasks-btn")[0],todoList=new TodoList;todoList.showTodosList(),add_button.addEventListener("click",function(){todoList.addNewTodo()}),all_button.addEventListener("click",function(){todoList.showTodosList()}),complete_button.addEventListener("click",function(){todoList.hideUncompletedTodos()}),uncomplete_button.addEventListener("click",function(){todoList.hideCompletedTodosList()});
//# sourceMappingURL=../maps/app.min.js.map
