"use strict";!function(){var t=function(){function t(){this.allTodosHtmlElement=document.getElementsByClassName("todos-list")[0],this.taskInputHtmlElement=document.getElementsByClassName("task-input")[0],this.addButton=document.getElementsByClassName("add-button")[0],this.allButton=document.getElementsByClassName("all-tasks-btn")[0],this.completeButton=document.getElementsByClassName("completed-tasks-btn")[0],this.uncompleteButton=document.getElementsByClassName("uncompleted-tasks-btn")[0],this.todoManagerHtmlElement=document.getElementsByClassName("todo-manager")[0],this.allTodos=document.getElementsByClassName("todo-manager")[0],this.allTodosLength=0,this.initelizeManagerComponentEvents(this.todoManagerHtmlElement),this.initelizeTodosListEvents(this.allTodosHtmlElement),this.targetElement,this.action}return t}();t.prototype.initelizeTodosListEvents=function(t){var e=this;t.addEventListener("click",function(t){e.targetElement=t.target,"checkbox"===e.targetElement.getAttribute("type")?e.changeStatusTodo.bind(this):"edit"===e.targetElement.getAttribute("class")?e.editTodo.bind(this):"delete"===e.targetElement.getAttribute("class")&&e.removeTodo.bind(this)})},t.prototype.initelizeManagerComponentEvents=function(t){var e=this;t.addEventListener("click",function(t){e.targetElement=t.target,e.action=e.targetElement.getAttribute("data-action"),e.action&&e[e.action]()})},t.prototype.addNewTodo=function(){var t=new e,o=this.taskInputHtmlElement.value;this.taskInputHtmlElement.value="",this.validateTextInput(o)&&(t.addNewTodo({todoText:o,checked:!1}),this.allTodosLength++,this.allTodosHtmlElement.appendChild(this.listItemGenerator(o,!1)))},t.prototype.validateTextInput=function(t){return""!==t||(alert("enter some text"),!1)},t.prototype.hideUncompletedTodos=function(){this.allTodosHtmlElement.classList.remove("uncompleted-tasks"),this.allTodosHtmlElement.classList.add("completed-tasks")},t.prototype.hideCompletedTodos=function(){this.allTodosHtmlElement.classList.remove("completed-tasks"),this.allTodosHtmlElement.classList.add("uncompleted-tasks")},t.prototype.showTodosList=function(){var t=new e;this.allTodos=t.getAllTodos(),this.allTodosHtmlElement.classList.remove("uncompleted-tasks"),this.allTodosHtmlElement.classList.remove("completed-tasks"),this.buildTodosList(this.allTodos)},t.prototype.buildTodosList=function(t){var o=new e;this.allTodos=o.getAllTodos(),this.allTodosHtmlElement.innerHTML="";var s=document.createDocumentFragment();for(var l in this.allTodos)this.allTodosLength=l,s.appendChild(this.listItemGenerator(t[this.allTodosLength].todoText,t[this.allTodosLength].checked));this.allTodosHtmlElement.appendChild(s)},t.prototype.listItemGenerator=function(t,e){var o,s,l,n,i,a;return o=document.createElement("li"),s=document.createElement("input"),l=document.createElement("label"),n=document.createElement("input"),i=document.createElement("button"),a=document.createElement("button"),s.type="checkbox",n.type="text",i.innerText="Edit",i.className="edit",a.innerText="Delete",a.className="delete",l.innerText=t,o.id=this.allTodosLength,o.appendChild(s),o.appendChild(l),o.appendChild(n),o.appendChild(i),o.appendChild(a),e===!0?(o.classList.add("completed-task"),s.checked=!0):s.checked=!1,o},t.prototype.removeTodo=function(){console.log("kek");var t=new e,o=this.parentNode.getAttribute("id");t.removeById(o),this.showTodosList()},t.prototype.editTodo=function(){var t=this.parentNode,o=t.querySelector("input[type=text]"),s=new e,l=t.querySelector("input[type=checkbox]"),n=t.querySelector("label"),i=t.classList.contains("editMode");if(l.checked!==!0){if(i){if(n.innerText=o.value,!this.validateTextInput(n.innerText))return;l.disabled=!1,s.editTextTodo(o.value,this.parentNode.id)}else l.disabled=!0,o.value=n.innerText;t.classList.toggle("editMode")}},t.prototype.changeStatusTodo=function(){var t=new e;this.checked?(this.nextSibling.style.textDecoration="line-through",this.parentNode.classList.add("completed-task"),t.editStatusTodo(this.parentNode.id,!0)):(this.parentNode.classList.remove("completed-task"),this.nextSibling.style.textDecoration="none",t.editStatusTodo(this.parentNode.id,!1))};var e=function(){function t(){this.allTodos=[]}return t}();e.prototype.writeDataToLocalStorage=function(t){localStorage.setItem("allTodos",JSON.stringify(t))},e.prototype.getAllTodos=function(){var t=localStorage.getItem("allTodos");return null!==t&&(this.allTodos=JSON.parse(t)),this.allTodos},e.prototype.getAllCompletedTodos=function(){return this.allTodos=this.getAllTodos(),this.allTodos=this.allTodos.filter(function(t){return t.checked===!0}),this.allTodos},e.prototype.getAllUncompletedTodos=function(){return this.allTodos=this.getAllTodos(),this.allTodos=this.allTodos.filter(function(t){return t.checked===!1}),this.allTodos},e.prototype.addNewTodo=function(t){this.allTodos=this.getAllTodos(),this.allTodos.push(t),this.writeDataToLocalStorage(this.allTodos)},e.prototype.removeById=function(t){this.allTodos=this.getAllTodos(),this.allTodos.splice(t,1),this.writeDataToLocalStorage(this.allTodos)},e.prototype.editTextTodo=function(t,e){this.allTodos=this.getAllTodos(),this.allTodos[e].todoText=t,this.writeDataToLocalStorage(this.allTodos)},e.prototype.editStatusTodo=function(t,e){this.allTodos=this.getAllTodos(),e?this.allTodos[t].checked=!0:this.allTodos[t].checked=!1,this.writeDataToLocalStorage(this.allTodos)};var o=new t;o.showTodosList()}();
//# sourceMappingURL=../maps/app.min.js.map
