function todoList(){function e(){function e(e){o.incompleted.append(n(e))}var t=$("#new-task");$("#add").on("click",function(){var n={id:Math.random().toString(36).substr(2,9),value:t.val(),completed:!1};e(n),a.setItem(n)})}function t(e){var t=$("#completed-tasks"),o=$("#incomplete-tasks");return e.forEach(function(e){return e.completed?t.append(n(e)):o.append(n(e))}),{incompleted:o,completed:t}}function n(e){var t=$("<li/>",{"data-id":e.id}),n=$("<label/>",{text:e.value}),i=$("<input/>",{type:"checkbox",value:e.id,checked:e.completed}),c=$("<input/>",{type:"text",value:e.value}),r=$("<button/>",{text:"Edit",class:"edit"}),d=$("<button/>",{text:"Delete",class:"delete"});return i.on("change",function(){var e=$(this).val(),t=$(this).prop("checked");t?o.incompleted.find("[data-id="+e+"]").appendTo(o.completed):o.completed.find("[data-id="+e+"]").appendTo(o.incompleted),a.setItemValue(e,"completed",t)}),r.on("click",function(){var e=t.attr("id");if(t.hasClass("editMode")){var o=c.val();n.text(o),a.setItemValue(e,"value",o)}t.toggleClass("editMode")}),d.on("click",function(){var e=i.prop("checked"),n=i.val();e?o.completed.find(t).remove():o.incompleted.find(t).remove(),a.removeItem(n)}),appendChildrenArray(t,[i,n,c,r,d])}var o={},a=storage("tasksList");return{init:function(){var n=a.get();return o=t(n),e(),o}}}function storage(e){function t(t){localStorage.setItem(e,JSON.stringify(t))}function n(e){var n=o();n.push(e),t(n)}function o(){return JSON.parse(localStorage.getItem(e))||[]}return{setItem:function(e){n(e)},setItemValue:function(e,n,a){var i=o();i.forEach(function(t){t.id===e&&(t[n]=a)}),t(i)},setArray:t,removeItem:function(e){t(o().filter(function(t){return t.id!==e}))},get:o}}function appendChildrenArray(e,t){return t.forEach(function(t){e.append(t)}),e}$(document).ready(function(){todoList().init()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsidG9kb0xpc3QiLCJ3YXRjaEFkZFRhc2tGb3JtIiwiYWRkSXRlbVRvTGlzdCIsIml0ZW0iLCJ0YXNrTGlzdHMiLCJpbmNvbXBsZXRlZCIsImFwcGVuZCIsInJlbmRlckxpc3RJdGVtIiwiYWRkVGFza0lucHV0IiwiJCIsIm9uIiwiaWQiLCJNYXRoIiwicmFuZG9tIiwidG9TdHJpbmciLCJzdWJzdHIiLCJ2YWx1ZSIsInZhbCIsImNvbXBsZXRlZCIsInRhc2tzU3RvcmFnZSIsInNldEl0ZW0iLCJyZW5kZXJUYXNrTGlzdHMiLCJpbml0aWFsTGlzdHNJdGVtcyIsImNvbXBsZXRlZExpc3QiLCJpbmNvbXBsZXRlZExpc3QiLCJmb3JFYWNoIiwidGFza0l0ZW0iLCJkYXRhLWlkIiwidGFza1RleHQiLCJ0ZXh0IiwidGFza0NoZWNrYm94IiwidHlwZSIsImNoZWNrZWQiLCJ0YXNrSW5wdXQiLCJ0YXNrRWRpdEJ0biIsImNsYXNzIiwidGFza0RlbGV0ZUJ0biIsInRoaXMiLCJwcm9wIiwiZmluZCIsImFwcGVuZFRvIiwic2V0SXRlbVZhbHVlIiwiYXR0ciIsImhhc0NsYXNzIiwibmV3VmFsdWUiLCJ0b2dnbGVDbGFzcyIsInJlbW92ZSIsInJlbW92ZUl0ZW0iLCJhcHBlbmRDaGlsZHJlbkFycmF5Iiwic3RvcmFnZSIsImluaXQiLCJnZXQiLCJwYXRoIiwic2F2ZUFycmF5IiwiYXJyYXkiLCJsb2NhbFN0b3JhZ2UiLCJKU09OIiwic3RyaW5naWZ5Iiwic2F2ZUl0ZW0iLCJjdXJyZW50SXRlbXMiLCJyZWFkRGF0YUZyb21TdG9yYWdlIiwicHVzaCIsInBhcnNlIiwiZ2V0SXRlbSIsImZpZWxkIiwic2V0QXJyYXkiLCJmaWx0ZXIiLCJwYXJlbnQiLCJjaGlsZHJlbiIsImRvY3VtZW50IiwicmVhZHkiXSwibWFwcGluZ3MiOiJBQUFBLFNBQVNBLFdBWVIsU0FBU0MsSUFlUixTQUFTQyxFQUFjQyxHQUNqQkMsRUFBVUMsWUFBWUMsT0FD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SWxCcUMsRUFBVU0sSUE2QlZNLFNBQVVaLEVBQ1ZOLFdBakJGLFNBQW9CcEMsR0FFbEIwQyxFQURtQk8sSUFFSk0sT0FBTyxTQUFVL0QsR0FDNUIsT0FBT0EsRUFBS1EsS0FBT0EsTUFjdkJ3QyxJQUFLUyxHQUlULFNBQVNaLG9CQUFvQm1CLEVBQVFDLEdBS25DLE9BSkFBLEVBQVMzQyxRQUFRLFNBQVV0QixHQUN6QmdFLEVBQU83RCxPQUFPSCxLQUdUZ0UsRUFHVDFELEVBQUU0RCxVQUFVQyxNQUFNLFdBRUF0RSxXQUFXa0QiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIHRvZG9MaXN0KCkge1xyXG4gIHZhciB0YXNrTGlzdHMgPSB7fTtcclxuICB2YXIgdGFza3NTdG9yYWdlID0gc3RvcmFnZSgndGFza3NMaXN0Jyk7XHJcblxyXG5cdGZ1bmN0aW9uIGluaXQoKSB7XHJcbiAgICB2YXIgaW5pdGlhbExpc3RzSXRlbXMgPSB0YXNrc1N0b3JhZ2UuZ2V0KCk7XHJcbiAgICB0YXNrTGlzdHMgPSByZW5kZXJUYXNrTGlzdHMoaW5pdGlhbExpc3RzSXRlbXMpO1xyXG4gICAgd2F0Y2hBZGRUYXNrRm9ybSgpO1xyXG5cclxuICAgIHJldHVybiB0YXNrTGlzdHM7XHJcblx0fVxyXG5cdFxyXG5cdGZ1bmN0aW9uIHdhdGNoQWRkVGFza0Zvcm0oKSB7XHJcbiAgICBcdHZhciBhZGRUYXNrSW5wdXQgPSAkKCcjbmV3LXRhc2snKSxcclxuXHRcdGFkZFRhc2tTdWJtaXRCdG4gPSAkKCcjYWRkJyk7XHJcblxyXG5cdFx0YWRkVGFza1N1Ym1pdEJ0bi5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdHZhciBpdGVtID0ge1xyXG5cdFx0XHRcdGlkOiBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiwgOSksIC8vINCz0LXQvdC10YDQsNGG0LjRjyDRg9C90LjQutCw0LvRjNC90L7Qs9C+IGlkXHJcbiAgICAgICAgXHRcdHZhbHVlOiBhZGRUYXNrSW5wdXQudmFsKCksXHJcbiAgICAgICAgXHRcdGNvbXBsZXRlZDogZmFsc2VcclxuICAgICAgXHRcdH07XHJcblxyXG4gICAgICBcdFx0YWRkSXRlbVRvTGlzdChpdGVtKTtcclxuICAgICAgXHRcdHRhc2tzU3RvcmFnZS5zZXRJdGVtKGl0ZW0pO1xyXG4gICAgXHR9KTtcclxuXHJcblx0XHRmdW5jdGlvbiBhZGRJdGVtVG9MaXN0KGl0ZW0pIHtcclxuICAgICAgXHRcdHRhc2tMaXN0cy5pbmNvbXBsZXRlZC5hcHBlbmQoXHJcbiAgICAgICAgXHRcdHJlbmRlckxpc3RJdGVtKGl0ZW0pXHJcblx0XHRcdClcclxuXHRcdH1cclxuICB9XHJcblxyXG5cdGZ1bmN0aW9uIHJlbmRlclRhc2tMaXN0cyhpbml0aWFsTGlzdHNJdGVtcykge1xyXG5cdFx0dmFyIGNvbXBsZXRlZExpc3QgPSAkKCcjY29tcGxldGVkLXRhc2tzJyksXHJcbiAgICAgIFx0aW5jb21wbGV0ZWRMaXN0ID0gJCgnI2luY29tcGxldGUtdGFza3MnKTtcclxuXHJcbiAgICBpbml0aWFsTGlzdHNJdGVtcy5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7XHJcblx0XHRcdGlmIChpdGVtLmNvbXBsZXRlZCkge1xyXG5cdFx0XHRcdHJldHVybiBjb21wbGV0ZWRMaXN0LmFwcGVuZChcclxuXHRcdFx0XHRcdHJlbmRlckxpc3RJdGVtKGl0ZW0pXHJcblx0XHRcdFx0KVxyXG5cdFx0XHR9XHJcblxyXG4gICAgICByZXR1cm4gaW5jb21wbGV0ZWRMaXN0LmFwcGVuZChcclxuICAgICAgICByZW5kZXJMaXN0SXRlbShpdGVtKVxyXG4gICAgICApXHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4ge1xyXG5cdFx0XHRpbmNvbXBsZXRlZDogaW5jb21wbGV0ZWRMaXN0LFxyXG4gICAgICBjb21wbGV0ZWQ6IGNvbXBsZXRlZExpc3RcclxuXHRcdH1cclxuICBcdH1cclxuXHRcclxuXHRmdW5jdGlvbiByZW5kZXJMaXN0SXRlbShpdGVtKSB7XHJcblx0XHR2YXIgdGFza0l0ZW0gPSAkKCc8bGkvPicsIHtcclxuXHRcdFx0XHRcdCdkYXRhLWlkJzogaXRlbS5pZFxyXG5cdFx0XHRcdH0pLFxyXG5cdFx0XHRcdHRhc2tUZXh0ID0gJCgnPGxhYmVsLz4nLCB7XHJcblx0XHRcdFx0XHR0ZXh0OiBpdGVtLnZhbHVlXHJcblx0XHRcdFx0fSksXHJcblx0XHRcdFx0dGFza0NoZWNrYm94ID0gJCgnPGlucHV0Lz4nLCB7XHJcblx0XHRcdFx0XHR0eXBlOiAnY2hlY2tib3gnLFxyXG5cdFx0XHRcdFx0dmFsdWU6IGl0ZW0uaWQsXHJcblx0XHRcdFx0XHRjaGVja2VkOiBpdGVtLmNvbXBsZXRlZFxyXG5cdFx0XHRcdH0pLFxyXG5cdFx0XHRcdHRhc2tJbnB1dCA9ICQoJzxpbnB1dC8+Jywge1xyXG5cdFx0XHRcdFx0dHlwZTogJ3RleHQnLFxyXG5cdFx0XHRcdFx0dmFsdWU6IGl0ZW0udmFsdWVcclxuXHRcdFx0XHR9KSxcclxuXHRcdFx0XHR0YXNrRWRpdEJ0biA9ICQoJzxidXR0b24vPicsIHtcclxuXHRcdFx0XHRcdHRleHQ6ICdFZGl0JyxcclxuXHRcdFx0XHRcdGNsYXNzOiAnZWRpdCdcclxuXHRcdFx0XHR9KSxcclxuXHRcdFx0XHR0YXNrRGVsZXRlQnRuID0gJCgnPGJ1dHRvbi8+Jywge1xyXG5cdFx0XHRcdFx0dGV4dDogJ0RlbGV0ZScsXHJcblx0XHRcdFx0XHRjbGFzczogJ2RlbGV0ZSdcclxuXHRcdFx0XHR9KTtcclxuXHJcblx0XHR0YXNrQ2hlY2tib3gub24oJ2NoYW5nZScsIG1vdmVJdGVtKTtcclxuXHJcbiAgICB0YXNrRWRpdEJ0bi5vbignY2xpY2snLCBlZGl0SXRlbSk7XHJcblxyXG4gICAgdGFza0RlbGV0ZUJ0bi5vbignY2xpY2snLCBkZWxldGVJdGVtKTtcclxuXHJcbiAgICBmdW5jdGlvbiBkZWxldGVJdGVtKCkge1xyXG4gICAgICB2YXIgY29tcGxldGVkID0gdGFza0NoZWNrYm94LnByb3AoJ2NoZWNrZWQnKSxcclxuXHRcdFx0XHRcdGlkID0gdGFza0NoZWNrYm94LnZhbCgpO1xyXG5cclxuICAgICAgaWYgKGNvbXBsZXRlZCkge1xyXG4gICAgICAgIHRhc2tMaXN0cy5jb21wbGV0ZWQuZmluZCh0YXNrSXRlbSkucmVtb3ZlKCk7XHJcblx0XHRcdH0gZWxzZSB7XHJcbiAgICAgICAgdGFza0xpc3RzLmluY29tcGxldGVkLmZpbmQodGFza0l0ZW0pLnJlbW92ZSgpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB0YXNrc1N0b3JhZ2UucmVtb3ZlSXRlbShpZCk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZWRpdEl0ZW0oKSB7XHJcbiAgICAgIHZhciBpZCA9IHRhc2tJdGVtLmF0dHIoJ2lkJyksXHJcbiAgICAgICAgXHRlZGl0TW9kZUNsYXNzID0gJ2VkaXRNb2RlJztcclxuXHJcbiAgICAgIGlmICh0YXNrSXRlbS5oYXNDbGFzcyhlZGl0TW9kZUNsYXNzKSkge1xyXG4gICAgICAgIHZhciBuZXdWYWx1ZSA9IHRhc2tJbnB1dC52YWwoKTtcclxuICAgICAgICB0YXNrVGV4dC50ZXh0KG5ld1ZhbHVlKTtcclxuICAgICAgICB0YXNrc1N0b3JhZ2Uuc2V0SXRlbVZhbHVlKGlkLCAndmFsdWUnLCBuZXdWYWx1ZSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHRhc2tJdGVtLnRvZ2dsZUNsYXNzKGVkaXRNb2RlQ2xhc3MpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIG1vdmVJdGVtKCkge1xyXG4gICAgICB2YXIgaWQgPSAkKHRoaXMpLnZhbCgpLFxyXG4gICAgICAgIGNvbXBsZXRlZCA9ICQodGhpcykucHJvcCgnY2hlY2tlZCcpO1xyXG5cclxuICAgICAgaWYgKGNvbXBsZXRlZCkge1xyXG4gICAgICAgIHRhc2tMaXN0cy5pbmNvbXBsZXRlZC5maW5kKCdbZGF0YS1pZD0nICsgaWQgKyAnXScpLmFwcGVuZFRvKHRhc2tMaXN0cy5jb21wbGV0ZWQpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRhc2tMaXN0cy5jb21wbGV0ZWQuZmluZCgnW2RhdGEtaWQ9JyArIGlkICsgJ10nKS5hcHBlbmRUbyh0YXNrTGlzdHMuaW5jb21wbGV0ZWQpO1xyXG4gICAgICB9XHJcbiAgICAgIHRhc2tzU3RvcmFnZS5zZXRJdGVtVmFsdWUoaWQsICdjb21wbGV0ZWQnLCBjb21wbGV0ZWQpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBhcHBlbmRDaGlsZHJlbkFycmF5KHRhc2tJdGVtLCBbXHJcbiAgICAgIHRhc2tDaGVja2JveCxcclxuICAgICAgdGFza1RleHQsXHJcbiAgICAgIHRhc2tJbnB1dCxcclxuICAgICAgdGFza0VkaXRCdG4sXHJcblx0XHRcdHRhc2tEZWxldGVCdG5cclxuXHRcdF0pXHJcbiAgfVxyXG5cclxuXHRyZXR1cm4ge1xyXG5cdFx0aW5pdDogaW5pdFxyXG5cdH1cclxufVxyXG5cclxuZnVuY3Rpb24gc3RvcmFnZShwYXRoKXtcclxuICBmdW5jdGlvbiBzZXRJdGVtVmFsdWUoaWQsIGZpZWxkLCB2YWx1ZSkge1xyXG4gICAgdmFyIGN1cnJlbnRJdGVtcyA9IHJlYWREYXRhRnJvbVN0b3JhZ2UoKTtcclxuXHJcbiAgICBjdXJyZW50SXRlbXMuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkge1xyXG4gICAgICBpZiAoaXRlbS5pZCA9PT0gaWQpIHtcclxuICAgICAgICBpdGVtW2ZpZWxkXSA9IHZhbHVlXHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIHNhdmVBcnJheShjdXJyZW50SXRlbXMpO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gc2F2ZUFycmF5KGFycmF5KSB7XHJcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShwYXRoLCBKU09OLnN0cmluZ2lmeShhcnJheSkpO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gc2F2ZUl0ZW0oaXRlbSkge1xyXG4gICAgdmFyIGN1cnJlbnRJdGVtcyA9IHJlYWREYXRhRnJvbVN0b3JhZ2UoKTtcclxuICAgIGN1cnJlbnRJdGVtcy5wdXNoKGl0ZW0pO1xyXG4gICAgc2F2ZUFycmF5KGN1cnJlbnRJdGVtcylcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIHJlbW92ZUl0ZW0oaWQpIHtcclxuICAgIHZhciBjdXJyZW50SXRlbXMgPSByZWFkRGF0YUZyb21TdG9yYWdlKCk7XHJcbiAgICBzYXZlQXJyYXkoXHJcbiAgICAgIGN1cnJlbnRJdGVtcy5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHtcclxuICAgICAgICByZXR1cm4gaXRlbS5pZCAhPT0gaWQ7XHJcbiAgICAgIH0pXHJcblx0XHQpO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gcmVhZERhdGFGcm9tU3RvcmFnZSgpIHtcclxuICAgIHJldHVybiBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKHBhdGgpKSB8fCBbXTtcclxuICB9XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICBzZXRJdGVtOiBmdW5jdGlvbiAoaXRlbSkgeyBzYXZlSXRlbShpdGVtKTsgfSxcclxuICAgIHNldEl0ZW1WYWx1ZTogc2V0SXRlbVZhbHVlLFxyXG4gICAgc2V0QXJyYXk6IHNhdmVBcnJheSxcclxuICAgIHJlbW92ZUl0ZW06IHJlbW92ZUl0ZW0sXHJcbiAgICBnZXQ6IHJlYWREYXRhRnJvbVN0b3JhZ2VcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGFwcGVuZENoaWxkcmVuQXJyYXkocGFyZW50LCBjaGlsZHJlbikge1xyXG4gIGNoaWxkcmVuLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcclxuICAgIHBhcmVudC5hcHBlbmQoaXRlbSk7XHJcbiAgfSk7XHJcblxyXG4gIHJldHVybiBwYXJlbnQ7XHJcbn1cclxuXHJcbiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCl7XHJcblxyXG4gIHZhciB0YXNrTGlzdHMgPSB0b2RvTGlzdCgpLmluaXQoKTtcclxuXHJcbn0pOyJdfQ==
