!function(e,i){e(function(){function i(){e(".css-slider").hide();var i=e(".slider");i.show(),i.data("slider")||i.Slider({numberOfSections:3,activeClassName:"active",slideOutClassName:"slide-out",imageHeight:300,imageWidth:400})}function t(){var i=this;this.$container=e(".css-slider"),this.$sectionSwitch=this.$container.find(".section-slider-list"),this.$firstLevelSlider=this.$container.find(".section-slider ul"),this.$secondLevelSlider=this.$container.find(".image-slider"),e(".slider").hide(),this.$container.show(),this.prevSlideNumber=0,this.currentSlideNumber=0,this.config={numberOfSections:3,activeClassName:"active",slideOutClassName:"slide-out",firstLevelItemHeight:this.$firstLevelSlider.height()/this.$firstLevelSlider.children().length,imageHeight:400,imageWidth:400},this.$secondLevelList=e("<ul></ul>"),this.$imageArray=[],this.$secondLevelSlider.find("ul").length||this.$secondLevelSlider.append(this.$secondLevelList),this.$firstLevelSlider.parent().css({height:this.config.firstLevelItemHeight*this.config.numberOfSections,"overflow-y":"hidden"}),this.$secondLevelSlider.css({width:this.config.imageWidth,"overflow-x":"hidden"}),this.$secondLevelList.css({width:this.config.imageWidth,height:this.config.imageHeight});for(var t=0;t<this.$firstLevelSlider.children().length;++t){this.$firstLevelSlider.children().eq(t).attr("data-image-number",t);var n="images/image"+(t+1)+".jpg";this.$imageArray.push(e('<li><div class="image" style="background-image: url('+n+');"></div></li>'))}this.$imageArray[0].find("div").addClass("active"),this.$secondLevelList.append(this.$imageArray[0]),this.$sectionSwitch.on("click",".image-section",function(){var t=e(this).data("section-number"),n=-t*i.config.firstLevelItemHeight*i.config.numberOfSections;i.$firstLevelSlider.css({"margin-top":n}),i.currentSlideNumber=t*i.config.numberOfSections,s()}),this.$firstLevelSlider.on("click","li",function(){i.currentSlideNumber=e(this).data("image-number"),s()})}function s(){if(this.prevSlideNumber!==this.currentSlideNumber){this.removeTimer&&(clearTimeout(this.removeTimer),this.removeTimer=0);var e=this;this.$imageArray[this.currentSlideNumber].find("div")[0].className="image",this.$secondLevelList.append(this.$imageArray[this.currentSlideNumber]),setTimeout(function(){e.$secondLevelList.children().first().find("div").removeClass(e.config.activeClassName).removeClass(e.config.slideOutClassName),e.$secondLevelList.children().first().find("div").removeClass(e.config.activeClassName).addClass(e.config.slideOutClassName),e.$secondLevelList.children().last().find("div").removeClass(e.config.slideOutClassName).addClass(e.config.activeClassName)},1),this.removeTimer=setTimeout(function(){e.$secondLevelList.children().first().remove()},301)}this.prevSlideNumber=this.currentSlideNumber}e(".choose-buttons").find("button").on("click",function(){switch(e(this).data("type")){case"js":i();break;case"css":t();break;default:console.log("Wrong type!")}})})}(jQuery),function(e,i){e.fn.Slider=function(i){return this.each(function(s,n){e(n).data("slider",new t(n,i))})};var t=function(i,t){this.$container=e(i),this.$sectionSlider=this.$container.find(".section-slider-list"),this.$firstLevelSlider=this.$container.find(".section-slider ul"),this.$secondLevelSlider=this.$container.find(".image-slider"),this.config=e.extend({numberOfSections:3,activeClassName:"active",slideOutClassName:"slide-out",firstLevelItemHeight:this.$firstLevelSlider.height()/this.$firstLevelSlider.children().length,imageHeight:400,imageWidth:400},t),this.currentSlideNumber=0,this.prevSlideNumber=0,this.init()};t.prototype.init=function(){this.$secondLevelList=e("<ul></ul>"),this.$secondLevelSlider.append(this.$secondLevelList),this.$imageArray=[],this.$firstLevelSlider.parent().css({height:this.config.firstLevelItemHeight*this.config.numberOfSections,"overflow-y":"hidden"});for(t=0;t<this.$firstLevelSlider.children().length;++t){this.$firstLevelSlider.children().eq(t).attr("data-image-number",t);var i="images/image"+(t+1)+".jpg";this.$imageArray.push(e('<li><div class="image" style="background-image: url('+i+');"></div></li>'))}for(var t=0;t<this.$sectionSlider.children().length;++t)this.$sectionSlider.children().eq(t).attr("data-section-number",t);this.$secondLevelSlider.css({width:this.config.imageWidth,"overflow-x":"hidden"}),this.$secondLevelList.css({width:this.config.imageWidth,height:this.config.imageHeight}),this.$secondLevelList.append(this.$imageArray[0]),this.bindSectionSwitch(),this.setAndBindSliderSwitch()},t.prototype.showNextSlide=function(){if(this.prevSlideNumber!==this.currentSlideNumber){var e=this;this.$secondLevelList.append(this.$imageArray[this.currentSlideNumber]),this.$secondLevelList.children().last().css("margin-left",-this.config.imageWidth).stop().animate({"margin-left":0},300),this.$secondLevelList.children().first().stop().animate({"margin-left":this.config.imageWidth},300,function(){e.$secondLevelList.children().first().remove()})}this.prevSlideNumber=this.currentSlideNumber},t.prototype.bindSectionSwitch=function(){var i=this;this.$sectionSlider.on("click",".image-section",function(t){t.preventDefault();var s=e(this).data("section-number"),n=-s*i.config.firstLevelItemHeight*i.config.numberOfSections;i.$firstLevelSlider.stop().animate({"margin-top":n}),i.currentSlideNumber=s*i.config.numberOfSections,i.showNextSlide()})},t.prototype.setAndBindSliderSwitch=function(){var i=this;this.$firstLevelSlider.on("click","li",function(){i.currentSlideNumber=e(this).data("image-number"),i.showNextSlide()})}}(jQuery);