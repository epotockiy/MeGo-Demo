!function(e,i){e(function(){e(".choose-buttons").find("button").on("click",function(){e(this).parent().slideUp();var i=e(".slider");switch(i.show(),e(this).data("type")){case"js":i.Slider({numberOfSections:3,activeClassName:"active",slideOutClassName:"slide-out",imageHeight:300,imageWidth:400,sliderType:"js"});break;case"css":i.Slider({numberOfSections:3,activeClassName:"active",slideOutClassName:"slide-out",imageHeight:300,imageWidth:400,sliderType:"css"});break;default:console.log("Wrong type!")}})})}(jQuery),function(e,i){e.fn.Slider=function(i){return this.each(function(s,r){e(r).data("slider",new t(r,i))})};var t=function(i,t){this.$container=e(i),this.$sectionSlider=this.$container.find(".section-slider-list"),this.$firstLevelSlider=this.$container.find(".section-slider ul"),this.$secondLevelSlider=this.$container.find(".image-slider"),this.config=e.extend({numberOfSections:3,activeClassName:"active",slideOutClassName:"slide-out",firstLevelItemHeight:this.$firstLevelSlider.height()/this.$firstLevelSlider.children().length,imageHeight:400,imageWidth:400,sliderType:"js"},t),this.currentSlideNumber=0,this.prevSlideNumber=0,this.init()};t.prototype.init=function(){this.createInitialMarkup(),this.bindSectionSwitch(),this.setAndBindSliderSwitch()},t.prototype.createInitialMarkup=function(){this.$container.find("p.title").remove(),this.$container.prepend('<p class="title">'+this.config.sliderType.toUpperCase()+"slider</p>"),this.$secondLevelList=e("<ul></ul>"),this.$imageArray=[],this.$secondLevelSlider.find("ul").length||this.$secondLevelSlider.append(this.$secondLevelList),this.$firstLevelSlider.parent().css({height:this.config.firstLevelItemHeight*this.config.numberOfSections,"overflow-y":"hidden"}),this.$secondLevelSlider.css({width:this.config.imageWidth,"overflow-x":"hidden"}),this.$secondLevelList.css({width:this.config.imageWidth,height:this.config.imageHeight});for(t=0;t<this.$firstLevelSlider.children().length;++t){this.$firstLevelSlider.children().eq(t).attr("data-image-number",t);var i="images/image"+(t+1)+".jpg";this.$imageArray.push(e('<li><div class="image '+("css"===this.config.sliderType?"image-margin":"")+'" style="background-image: url('+i+');"></div></li>'))}for(var t=0;t<this.$sectionSlider.children().length;++t)this.$sectionSlider.children().eq(t).attr("data-section-number",t);this.$imageArray[0].find(".image").addClass("active"),this.$secondLevelList.append(this.$imageArray[0])},t.prototype.showNextSlideJQuery=function(){if(this.prevSlideNumber!==this.currentSlideNumber){var e=this;this.$secondLevelList.append(this.$imageArray[this.currentSlideNumber]),this.$secondLevelList.children().last().css("margin-left",-this.config.imageWidth).stop().animate({"margin-left":0},300),this.$secondLevelList.children().first().stop().animate({"margin-left":this.config.imageWidth},300,function(){e.$secondLevelList.children().first().remove()})}this.prevSlideNumber=this.currentSlideNumber},t.prototype.showNextSlideCSS=function(){if(this.prevSlideNumber!==this.currentSlideNumber){var e=this;this.$imageArray[this.currentSlideNumber].find(".image")[0].className="image image-margin",this.$secondLevelList.append(this.$imageArray[this.currentSlideNumber]),setTimeout(function(){e.$secondLevelList.children().first().find(".image").removeClass(e.config.activeClassName).removeClass(e.config.slideOutClassName),e.$secondLevelList.children().first().find(".image").removeClass(e.config.activeClassName).addClass(e.config.slideOutClassName),e.$secondLevelList.children().last().find(".image").removeClass(e.config.slideOutClassName).addClass(e.config.activeClassName)},1),this.removeTimer=setTimeout(function(){e.$secondLevelList.children().length>1&&e.$secondLevelList.children().first().remove()},301)}this.prevSlideNumber=this.currentSlideNumber},t.prototype.bindSectionSwitch=function(){var i=this;this.$sectionSlider.on("click",".image-section",function(t){t.preventDefault();var s=e(this).data("section-number"),r=-s*i.config.firstLevelItemHeight*i.config.numberOfSections;switch(i.currentSlideNumber=s*i.config.numberOfSections,i.$firstLevelSlider.css({"margin-top":r}),i.config.sliderType){case"js":i.showNextSlideJQuery();break;case"css":i.showNextSlideCSS();break;default:console.log("Wrong type of slider!")}})},t.prototype.setAndBindSliderSwitch=function(){var i=this;this.$firstLevelSlider.on("click","li",function(){switch(i.currentSlideNumber=e(this).data("image-number"),i.config.sliderType){case"js":i.showNextSlideJQuery();break;case"css":i.showNextSlideCSS();break;default:console.log("Wrong type of slider!")}})}}(jQuery);