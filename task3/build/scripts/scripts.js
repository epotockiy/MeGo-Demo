!function(i,e){i(function(){i(".choose-buttons").find("button").on("click",function(){i(this).parent().slideUp();var e=i(".slider");switch(e.show(),i(this).data("type")){case"js":e.Slider({numberOfSections:3,activeClassName:"active",slideOutClassName:"slide-out",imageHeight:300,imageWidth:400,sliderType:"js",transition:300});break;case"css":e.Slider({numberOfSections:3,activeClassName:"active",slideOutClassName:"slide-out",imageHeight:300,imageWidth:400,sliderType:"css",transition:300});break;default:console.log("Wrong type!")}})})}(jQuery),function(i,e){i.fn.Slider=function(e){return this.each(function(s,n){i(n).data("slider",new t(n,e))})};var t=function(e,t){this.$container=i(e),this.$sectionSlider=this.$container.find(".section-slider-list"),this.$firstLevelSlider=this.$container.find(".section-slider ul"),this.$secondLevelSlider=this.$container.find(".image-slider"),this.config=i.extend({numberOfSections:3,activeClassName:"active",slideOutClassName:"slide-out",firstLevelItemHeight:this.$firstLevelSlider.height()/this.$firstLevelSlider.children().length,imageHeight:400,imageWidth:400,transition:300,sliderType:"js"},t),this.currentSlideNumber=0,this.prevSlideNumber=0,this.init()};t.prototype.init=function(){this.setInitialMarkup(),this.setInitialStyles(),this.bindSectionSwitch(),this.bindSliderSwitch()},t.prototype.setInitialMarkup=function(){this.$container.find("p.title").remove(),this.$container.prepend('<p class="title">'+this.config.sliderType.toUpperCase()+"slider</p>"),this.$secondLevelList=i("<ul></ul>"),this.$imageArray=[],this.$secondLevelSlider.find("ul").length||this.$secondLevelSlider.append(this.$secondLevelList);for(t=0;t<this.$firstLevelSlider.children().length;++t){this.$firstLevelSlider.children().eq(t).data("image-number",t);var e="images/image"+(t+1)+".jpg";this.$imageArray.push(i('<li><div class="image '+("css"===this.config.sliderType?"image-margin":"")+'" style="background-image: url('+e+');"></div></li>'))}for(var t=0;t<this.$sectionSlider.children().length;++t)this.$sectionSlider.children().eq(t).data("section-number",t)},t.prototype.setInitialStyles=function(){this.$firstLevelSlider.css("transition","margin-top ."+this.config.transition+"s"),this.$secondLevelList.css("transition","margin ."+this.config.transition+"s"),this.$firstLevelSlider.parent().css({height:this.config.firstLevelItemHeight*this.config.numberOfSections,"overflow-y":"hidden"}),this.$secondLevelSlider.css({width:this.config.imageWidth,"overflow-x":"hidden"}),this.$secondLevelList.css({width:this.config.imageWidth,height:this.config.imageHeight}),this.$imageArray[0].find(".image").addClass("active"),this.$secondLevelList.append(this.$imageArray[0])},t.prototype.showNextSlideJQuery=function(){if(this.prevSlideNumber!==this.currentSlideNumber){var i=this;this.$secondLevelList.append(this.$imageArray[this.currentSlideNumber]),this.$secondLevelList.children().last().css("margin-left",-this.config.imageWidth).stop().animate({"margin-left":0},300),this.$secondLevelList.children().first().stop().animate({"margin-left":this.config.imageWidth},300,function(){i.$secondLevelList.children().first().remove()})}this.prevSlideNumber=this.currentSlideNumber},t.prototype.showNextSlideCSS=function(){if(this.prevSlideNumber!==this.currentSlideNumber){var i=this;this.$imageArray[this.currentSlideNumber].find(".image")[0].className="image image-margin",this.$secondLevelList.append(this.$imageArray[this.currentSlideNumber]),setTimeout(function(){i.$secondLevelList.children().first().find(".image").removeClass(i.config.activeClassName).addClass(i.config.slideOutClassName).css("transition","all ."+i.config.transition+"s"),i.$secondLevelList.children().last().find(".image").removeClass(i.config.slideOutClassName).addClass(i.config.activeClassName).css("transition","all ."+i.config.transition+"s")},1),setTimeout(function(){i.$secondLevelList.children().length>1&&i.$secondLevelList.children().first().remove()},i.config.transition+1)}this.prevSlideNumber=this.currentSlideNumber},t.prototype.bindSectionSwitch=function(){var e=this;this.$sectionSlider.on("click",".image-section",function(t){t.preventDefault();var s=i(this).data("section-number"),n=-s*e.config.firstLevelItemHeight*e.config.numberOfSections;switch(e.currentSlideNumber=s*e.config.numberOfSections,e.$firstLevelSlider.css({"margin-top":n}),e.config.sliderType){case"js":e.showNextSlideJQuery();break;case"css":e.showNextSlideCSS();break;default:console.log("Wrong type of slider!")}})},t.prototype.bindSliderSwitch=function(){var e=this;this.$firstLevelSlider.on("click","li",function(){switch(e.currentSlideNumber=i(this).data("image-number"),e.config.sliderType){case"js":e.showNextSlideJQuery();break;case"css":e.showNextSlideCSS();break;default:console.log("Wrong type of slider!")}})}}(jQuery);